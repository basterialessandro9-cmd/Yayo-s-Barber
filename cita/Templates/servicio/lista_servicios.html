{% load static %}
{% include "inc/header.html" %}


<link rel="stylesheet" href="{% static 'Css/custom.css' %}">


<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />
  <div class="main-wrapper">
  

	  {% include "inc/topbar.html" %}



       
          {% include "inc/sidebar.html" %}
	 
	
	 
	 
	 <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
          <!-- ============================================================== -->
          <!-- Bread crumb and right sidebar toggle -->
          <!-- ============================================================== -->
          <div class="row page-titles d-flex align-items-center">
            <div class="col-md-5 align-self-center">
              <h3 class="text-themecolor m-0">Servicios</h3>
              <ol class="breadcrumb">
                <li class="breadcrumb-item">
                  <a href="">Administrador</a>
                </li>
                <li class="breadcrumb-item active">Agregar Servicio</li>
              </ol>
            </div>
            
          </div>


           <div class="services-container">
        <div class="services-header">

                    <a href="{% url 'nuevo_servicio' %}" class="btn-gold">
                        <i class="fas fa-plus-circle"></i> Agregar Nuevo Servicio
                    </a>
                </div>
            

        <div class="services-card">
            <table class="services-table">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Descripción</th>
                        <th>Precio</th>
                        <th>Duración</th>
                        <th class="text-center">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for servicio in servicios %}
                        <tr>
                            <td>{{ servicio.nombre }}</td>
                            <td>{{ servicio.descripcion }}</td>
                            <td>${{ servicio.precio }}</td>
                            <td>{{ servicio.duracion }} min</td>
                            <td class="text-center">
    <a href="{% url 'editar_servicio' servicio.id %}" class="btn btn-warning">
        <i class="fas fa-edit"></i> Editar
    </a>
    <a href="#" class="btn btn-dark eliminar-btn" data-url="{% url 'eliminar_servicio' servicio.id %}">
        <i class="fas fa-trash"></i> Eliminar
    </a>
</td>

                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="5" class="text-center text-light">No hay servicios registrados.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    {% include "inc/footer.html" %}
</div>

<!-- Librerías -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const botonesEliminar = document.querySelectorAll('.eliminar-btn');

    botonesEliminar.forEach(btn => {
        btn.addEventListener('click', function (e) {
            e.preventDefault();

            const url = this.getAttribute('data-url');

            Swal.fire({
                title: '¿Estás seguro?',
                text: "Esta acción no se puede deshacer.",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#FFD700', // Dorado
                cancelButtonColor: '#000',     // Negro
                confirmButtonText: 'Sí, eliminar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = url;
                }
            });
        });
    });
});
</script>

{% include "inc/footer.html" %}

